# Click DeliverUs 서버사이드 클라이언트.

## 구현할 내용
- 결제 완료 후 자동으로 배달목록에 반영되게 배달리스트에 주소랑 요청사항 , 넘어가도록 - 영훈
  - 받을 내용 - 주소, 요청사항, 상품명 및 수량, 주문자 ID
  - `address` - 주소, string
  - `requests` - 요청사항, string
  - `parcels` - 상품명 및 수량, json
  - `purchaseId` - 주문자 ID

---
2023.5.24(수) 회원가입 부분 만듬.
>백엔드 하는사람들 프로젝트 root 디렉토리에 .env 만들어야함.

validationPipe 사용하는 부분 오류나서 일단 주석처리함

2023.7.13(목) 편의점 id로 검색기능 만듬.

2023.7.15(토) 패스워드 암호화 구현. 그러나 아직 뭔가 안됨

2023.7.28(금) Websocket을 사용해서 채팅 기능 구현하였으나 아직 테스트는 못해봄.
또한, 현재 nest 9.*.* 사용중인데 10.0.0이 나와서
`npm install`으로 websocket을 설치할시 문제가 발생. 따라서 호환되는 버전으로 낮춰서 설치를 진행함.
일단 stomp가 아닌 websocket으로 설치하였으며 테스트 용도로 채팅방 개설, 삭제, 목록 띄우기를 하는 경로 설정

2023.9.9(토) Payment 모듈 접근하면 `400 Bad request`가 뜸. 그것 외에는 API로 내용을 받아와 DB에 저장하는 기능을 구현함.

2023.9.27(수) Payment 모듈의 db에서 결제기록을 찾아 반환하는 `getPaymentInfo`를 작성함. 추가로 이를 수행하는 `fetchOrder()`도 구현.<br>근데 로컬 mysql 권한과 대소문자 구분 문제로 테스트 불가

---
> **11.29 UPDATE**
> 결제에서 배달리스트로 자동으로 넘어가게 하는 부분은 `eventEmitter2`로 처리하고 리스너를 `delivery` 모듈에서 리스너를 정의하여 처리하려고 작업중.
> 그러나 위의 4 파라미터를 어떻게 처리할지 막혀서 고민이 좀더 필요함.
---
> **11.30 12:30 UPDATE**
> delivery모듈의 로직은 얼추 완성. createDelivery 메서드 로직도 맞춰서 리팩토링.
> deliveryService 버그잡아야함.
> orderEntity도 파라미터 맞춰서 수정필요.
> 또한 추가로 작업한 파라미터에서 원래 있던거랑 중복되는거 있어서 이거도 맞춰서 노션에 반영함.